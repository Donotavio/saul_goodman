<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      http-equiv="Content-Security-Policy"
      content="default-src 'none'; connect-src http://127.0.0.1:* http://localhost:*; img-src {cspSource} https: http: data:; style-src {cspSource} 'unsafe-inline'; script-src 'nonce-{nonce}' https://cdn.jsdelivr.net;"
    />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="{styleUri}" />
    <title>Saul Goodman VS Code Reports</title>
  </head>
  <body>
    <main class="report">
      <header class="report__header">
        <div class="header__content">
          <h1>Saul Goodman · VS Code Reports</h1>
          <p id="reportStatus" class="report__status">Carregando dados do SaulDaemon...</p>
        </div>
        <div class="header__logo">
          <img src="{logoUri}" alt="Saul Goodman" class="logo" />
          <span class="logo-caption">Filial digital</span>
        </div>
      </header>

      <section id="reportsDisabled" class="card card--warning hidden">
        <h2 id="disabledTitle">Reports disabled</h2>
        <p id="disabledDetail">Enable "Enable Reports in VS Code" in settings to view the data.</p>
      </section>

      <section id="reportContent" class="hidden">
        <section class="card">
          <h2 id="filtersTitle">Filters</h2>
          <div class="filters">
            <label>
              <span id="labelProject">Project</span>
              <select id="filterProject">
                <option value="">All</option>
              </select>
            </label>
            <label>
              <span id="labelLanguage">Language</span>
              <select id="filterLanguage">
                <option value="">All</option>
              </select>
            </label>
            <label>
              <span id="labelMachine">Machine</span>
              <select id="filterMachine">
                <option value="">All</option>
              </select>
            </label>
            <div class="filters__actions">
              <button id="applyFilters">Apply</button>
              <button id="resetFilters" class="ghost">Clear</button>
            </div>
          </div>
        </section>

        <section class="stats-grid">
          <div class="card today-card">
            <div class="today-content">
              <div class="today-left">
                <h3 id="todayTitle">Today</h3>
                <div class="stat">
                  <span class="stat-value" id="statToday">--</span>
                </div>
              </div>
              <div class="index-badge">
                <span class="index-label">Índice</span>
                <span class="index-value" id="indexValue">--</span>
              </div>
            </div>
          </div>
        </section>

        <section class="grid-two">
          <div class="card">
            <h3 id="projectsTitle">Projects</h3>
            <ul id="projectsList" class="data-list"></ul>
          </div>
          <div class="card">
            <h3 id="languagesTitle">Languages</h3>
            <ul id="languagesList" class="data-list"></ul>
          </div>
        </section>

        <section class="card">
          <h3 id="summariesTitle">Summaries</h3>
          <ul id="summariesList" class="summary-list"></ul>
        </section>

        <section class="grid-two">
          <div class="card">
            <h3>Git Branches</h3>
            <ul id="branchesList" class="data-list"></ul>
          </div>
          <div class="card">
            <h3>Activity</h3>
            <ul id="activityList" class="data-list"></ul>
          </div>
        </section>

        <section class="card chart-section">
          <h3>Hourly Breakdown</h3>
          <p class="chart-subtitle">Activity distribution throughout the day</p>
          <div class="chart-container">
            <canvas id="hourlyChart" height="200"></canvas>
            <p id="hourlyEmpty" class="empty-state hidden">No hourly data to display yet.</p>
          </div>
        </section>

        <section class="grid-two">
          <div class="card">
            <h3 id="workspacesTitle">Workspaces</h3>
            <ul id="workspacesList" class="data-list"></ul>
          </div>
          <div class="card">
            <h3 id="editorInfoTitle">Editor Info</h3>
            <div id="editorInfo"></div>
          </div>
        </section>
      </section>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script nonce="{nonce}">window.__SAUL_CONFIG__ = {config};</script>
    <script nonce="{nonce}">window.__SAUL_I18N__ = {i18n};</script>
    <script nonce="{nonce}" src="{scriptUri}"></script>
  </body>
</html>
