const translations = {
  pt: {
    navProcess: 'Processo',
    navDemo: 'Demonstração',
    navClients: 'Clientes',
    navCta: 'Instalar',
    languageLabel: 'Selecionar idioma',
    heroTag: '100% SIGILO PROFISSIONAL',
    heroTitle: 'Seu advogado particular contra a procrastinação.',
    heroSubtitle:
      'Saul Goodman fiscaliza suas abas, julga o seu foco e entrega relatórios dramáticos — tudo no seu navegador, sem enviar um byte para fora.',
    heroPrimaryCta: 'Instalar extensão',
    heroSecondaryCta: 'Conheça o plano de defesa',
    heroConfidence1: 'Modo terremoto personalizado',
    heroConfidence2: 'Lista negra & lista VIP de domínios',
    heroConfidence3: 'Relatório com storytelling IA',
    heroBadge: '“Em caso de preguiça... CALL SAUL!”',
    reasonsEyebrow: 'Por que instalar',
    reasonsTitle: 'Saul transforma procrastinação em depoimento favorável. Veja como.',
    reason1Title: 'Manda o vilão direto ao tribunal',
    reason1Body:
      'Listas personalizadas separam domínios produtivos de tentações. Saul apita sempre que alguém tenta corromper seu foco.',
    reason2Title: 'Alertas à la comercial de TV dos anos 90',
    reason2Body: 'Tremor na tela e sirene garantem que a procrastinação sinta o peso da lei antes de virar reincidente.',
    reason3Title: 'Relatório dramático para apresentar ao chefe',
    reason3Body: 'Gráficos, timeline e storytelling IA prontos para anexar na pauta da daily ou na conversa de feedback.',
    reason4Title: 'Sigilo profissional',
    reason4Body: 'Zero servidores externos. Tudo é calculado no seu navegador — nem o juiz tem acesso.',
    processEyebrow: 'Fluxo jurídico',
    processTitle: 'Como Saul monta o seu caso diariamente.',
    process1Title: 'Investigação contínua',
    process1Body:
      'Um content script discreto registra cliques, teclas e domínio ativo para que ninguém marque você como ausente antes da hora.',
    process2Title: 'Julgamento imparcial',
    process2Body:
      'O Service Worker cruza domínios produtivos e vilões, calcula o índice de procrastinação e atualiza o badge em tempo real.',
    process3Title: 'Defesa dramática',
    process3Body:
      'Os relatórios diários geram gráficos, timeline minuto a minuto e até narrativa IA em tom Saul Goodman para apresentar ao “juiz” (você mesmo).',
    featuresEyebrow: 'Features detalhadas',
    featuresTitle: 'O arsenal da extensão Saul Goodman.',
    feature1Title: 'Dashboard em tempo real',
    feature1Item1: 'Badge com índice atual e mensagens sarcásticas.',
    feature1Item2: 'Top domínios produtivos e vilões com tempo formatado.',
    feature1Item3: 'Exportações CSV/PDF com um clique.',
    feature2Title: 'Modo terremoto',
    feature2Item1: 'Limiar configurável e sirene opcional.',
    feature2Item2: 'Overlay crítico com contador regressivo e CTA.',
    feature2Item3: 'Bloqueia somente as abas vilãs para você recuperar em produtivas.',
    feature3Title: 'Relatório dramático',
    feature3Item1: 'Gráficos por hora e breakdown de trocas de aba.',
    feature3Item2: 'Narrativa IA em tom Better Call Saul.',
    feature3Item3: 'Banner crítico com plano de ação imediato.',
    feature4Title: 'Privacidade total',
    feature4Item1: 'Dados em <code>chrome.storage.local</code> — nada é enviado à nuvem.',
    feature4Item2: 'Listas produtivas/vilãs salvas só no seu navegador.',
    feature4Item3: 'Chave OpenAI opcional e guardada localmente.',
    manifestoEyebrow: 'Manifesto',
    manifestoTitle: 'Marketing agressivo com uma pitada de ética.',
    manifesto1Title: '100% local',
    manifesto1Body: 'Seu dia é julgado dentro do navegador. Nenhum dado sai do computador, nem com ordem do juiz.',
    manifesto2Title: 'Transparência na cobrança',
    manifesto2Body: 'Alertas visuais e sonoros deixam claro quando Saul está prestes a cobrar honorários extras.',
    manifesto3Title: 'Humor como arma',
    manifesto3Body: 'Mensagens sarcásticas e banners dramáticos lembram que procrastinar também custa caro.',
    splitPopupTitle: 'Popup de plantão',
    splitPopupBody:
      'O painel mostra o índice, top domínios, indicadores extras e permite exportar CSV/PDF. Quando o foco despenca, o modo terremoto invade para salvar a barra da justiça.',
    splitReportTitle: 'Relatório dramático',
    splitReportBody:
      'Gráficos por hora, ranking de vilões, narrativa IA e banner crítico com plano de ação. Tudo com visual juramentado.',
    splitStats1: 'Minutos recuperados/dia',
    splitStats2: 'Clientes absolvidos',
    timelineEyebrow: 'Linha do tempo',
    timelineTitle: 'Do rastreamento ao veredito.',
    timeline1Title: 'Radar inicial',
    timeline1Body: 'Content script detecta atividade nas primeiras abas. Saul registra quem é produtivo ou vilão.',
    timeline2Title: 'Auto de infração',
    timeline2Body:
      'Se o índice sobe demais, o modo terremoto invade o Chrome com tremor, sirene e CTA para virar o jogo.',
    timeline3Title: 'Sentença diária',
    timeline3Body:
      'Relatório detalhado envia gráficos, timeline e narrativa IA para encerrar o expediente com provas.',
    benefitsEyebrow: 'Benefícios',
    benefitsTitle: 'Saul cuida do processo, você fecha o caso.',
    benefit1Title: 'Provas incontestáveis',
    benefit1Body: 'Gráficos e CSV para apresentar ao chefe, à equipe ou ao seu próprio senso de culpa.',
    benefit2Title: 'Alertas cinematográficos',
    benefit2Body: 'Modo terremoto e mensagens sarcásticas que você nunca ignora.',
    benefit3Title: 'Privacidade garantida',
    benefit3Body: 'Todo o julgamento acontece localmente; nenhum dado deixa o seu navegador.',
    testimonialsEyebrow: 'Testemunhos',
    testimonialsTitle: 'Clientes absolvidos.',
    testimonial1Quote: '“Saul me lembrou que trocar 40 abas por hora é crime.”',
    testimonial1Cite: '— Cliente anônimo',
    testimonial2Quote: '“O relatório virou peça de defesa na reunião com o chefe.”',
    testimonial2Cite: '— Engenheiro arrependido',
    testimonial3Quote: '“O modo terremoto salvou meu sprint. Honorários pagos com gosto.”',
    testimonial3Cite: '— Product Manager',
    finalCtaTitle: 'Pronto para defender o seu foco?',
    finalCtaBody:
      'Instale a extensão, liste seus vilões e deixe Saul negociar com a sua procrastinação antes que ela vire caso de tribunal.',
    finalPrimary: 'Instalar agora',
    finalSecondary: 'Ver demonstração',
    faq1Question: 'É grátis?',
    faq1Answer: 'Totalmente. Saul só cobra atenção e senso de humor.',
    faq2Question: 'Meus dados saem do navegador?',
    faq2Answer: 'Jamais. Tudo fica em <code>chrome.storage.local</code>.',
    faq3Question: 'Preciso de IA?',
    faq3Answer: 'Só se quiser as narrativas no relatório. O resto funciona offline.',
    footerTitle: 'Saul Goodman Extension',
    footerBody: 'Instale, liste seus vilões e deixe Saul cobrar os honorários do foco.',
    footerLinkArchitecture: 'Arquitetura',
    footerLinkIndicators: 'Indicadores',
    footerLinkGithub: 'GitHub',
    footerPrivacy: 'Dados 100% locais. Nem o juiz vê.'
  },
  en: {
    navProcess: 'Process',
    navDemo: 'Demo',
    navClients: 'Clients',
    navCta: 'Install',
    languageLabel: 'Select language',
    heroTag: '100% ATTORNEY-CLIENT PRIVILEGE',
    heroTitle: 'Your personal lawyer against procrastination.',
    heroSubtitle:
      'Saul Goodman polices your tabs, judges your focus, and delivers dramatic reports — all in your browser with zero data leaving.',
    heroPrimaryCta: 'Install extension',
    heroSecondaryCta: 'See the defense plan',
    heroConfidence1: 'Custom earthquake mode',
    heroConfidence2: 'Blacklist & VIP domain lists',
    heroConfidence3: 'Report with AI storytelling',
    heroBadge: '“When laziness strikes... CALL SAUL!”',
    reasonsEyebrow: 'Why install',
    reasonsTitle: "Saul turns procrastination into favorable testimony. Here's how.",
    reason1Title: 'Send the villain straight to court',
    reason1Body:
      'Custom lists separate productive domains from temptations. Saul blows the whistle whenever someone tries to bribe your focus.',
    reason2Title: 'Alerts like a 90s TV commercial',
    reason2Body: 'Screen shake and siren make procrastination feel the law before it reoffends.',
    reason3Title: 'Dramatic report to show your boss',
    reason3Body: 'Charts, timeline, and AI storytelling ready to drop into the daily agenda or feedback chat.',
    reason4Title: 'Professional secrecy',
    reason4Body: "Zero external servers. Everything is calculated in your browser — not even the judge can see.",
    processEyebrow: 'Legal flow',
    processTitle: 'How Saul builds your case every day.',
    process1Title: 'Continuous investigation',
    process1Body:
      "A discreet content script logs clicks, keystrokes, and the active domain so nobody marks you as away before it's time.",
    process2Title: 'Impartial judgment',
    process2Body:
      'The Service Worker cross-checks productive and villain domains, calculates the procrastination index, and updates the badge in real time.',
    process3Title: 'Dramatic defense',
    process3Body:
      'Daily reports generate charts, minute-by-minute timeline, and even AI narrative in Saul Goodman tone to present to the “judge” (you).',
    featuresEyebrow: 'Detailed features',
    featuresTitle: 'The arsenal of the Saul Goodman extension.',
    feature1Title: 'Real-time dashboard',
    feature1Item1: 'Badge with current index and sarcastic messages.',
    feature1Item2: 'Top productive and villain domains with formatted time.',
    feature1Item3: 'CSV/PDF exports with one click.',
    feature2Title: 'Earthquake mode',
    feature2Item1: 'Configurable threshold and optional siren.',
    feature2Item2: 'Critical overlay with countdown and CTA.',
    feature2Item3: 'Blocks only villain tabs so you can recover in productive ones.',
    feature3Title: 'Dramatic report',
    feature3Item1: 'Charts per hour and tab-switch breakdown.',
    feature3Item2: 'AI narrative in Better Call Saul tone.',
    feature3Item3: 'Critical banner with immediate action plan.',
    feature4Title: 'Total privacy',
    feature4Item1: 'Data in <code>chrome.storage.local</code> — nothing goes to the cloud.',
    feature4Item2: 'Productive/villain lists saved only in your browser.',
    feature4Item3: 'Optional OpenAI key stored locally.',
    manifestoEyebrow: 'Manifesto',
    manifestoTitle: 'Aggressive marketing with a pinch of ethics.',
    manifesto1Title: '100% local',
    manifesto1Body: 'Your day is judged inside the browser. No data leaves the computer, not even by court order.',
    manifesto2Title: 'Transparent billing',
    manifesto2Body: 'Visual and sound alerts make it clear when Saul is about to charge extra fees.',
    manifesto3Title: 'Humor as weapon',
    manifesto3Body: 'Sarcastic messages and dramatic banners remind you procrastination is also expensive.',
    splitPopupTitle: 'On-call popup',
    splitPopupBody:
      'The panel shows the index, top domains, extra indicators, and lets you export CSV/PDF. When focus drops, earthquake mode storms in to save the bar of justice.',
    splitReportTitle: 'Dramatic report',
    splitReportBody:
      'Charts per hour, villain ranking, AI narrative, and critical banner with action plan. All with sworn visuals.',
    splitStats1: 'Minutes recovered/day',
    splitStats2: 'Clients acquitted',
    timelineEyebrow: 'Timeline',
    timelineTitle: 'From tracking to verdict.',
    timeline1Title: 'Initial radar',
    timeline1Body: 'Content script detects activity on first tabs. Saul logs who is productive or a villain.',
    timeline2Title: 'Infraction notice',
    timeline2Body:
      'If the index climbs too high, earthquake mode storms Chrome with quake, siren, and CTA to turn the game.',
    timeline3Title: 'Daily sentence',
    timeline3Body:
      'Detailed report ships charts, timeline, and AI narrative to close the day with evidence.',
    benefitsEyebrow: 'Benefits',
    benefitsTitle: 'Saul handles the case, you close it.',
    benefit1Title: 'Undeniable evidence',
    benefit1Body: 'Charts and CSV to show your boss, team, or your own conscience.',
    benefit2Title: 'Cinematic alerts',
    benefit2Body: "Earthquake mode and sarcastic messages you can't ignore.",
    benefit3Title: 'Guaranteed privacy',
    benefit3Body: 'All judgment happens locally; no data leaves your browser.',
    testimonialsEyebrow: 'Testimonials',
    testimonialsTitle: 'Clients acquitted.',
    testimonial1Quote: '“Saul reminded me that switching 40 tabs per hour is a crime.”',
    testimonial1Cite: '— Anonymous client',
    testimonial2Quote: '“The report became a defense piece in the meeting with my boss.”',
    testimonial2Cite: '— Regretful engineer',
    testimonial3Quote: '“Earthquake mode saved my sprint. Fees gladly paid.”',
    testimonial3Cite: '— Product Manager',
    finalCtaTitle: 'Ready to defend your focus?',
    finalCtaBody:
      'Install the extension, list your villains, and let Saul negotiate with your procrastination before it goes to court.',
    finalPrimary: 'Install now',
    finalSecondary: 'See demo',
    faq1Question: 'Is it free?',
    faq1Answer: 'Totally. Saul only charges attention and humor.',
    faq2Question: 'Do my data leave the browser?',
    faq2Answer: 'Never. Everything stays in <code>chrome.storage.local</code>.',
    faq3Question: 'Do I need AI?',
    faq3Answer: 'Only if you want narratives in the report. The rest works offline.',
    footerTitle: 'Saul Goodman Extension',
    footerBody: 'Install, list your villains, and let Saul collect focus fees.',
    footerLinkArchitecture: 'Architecture',
    footerLinkIndicators: 'Indicators',
    footerLinkGithub: 'GitHub',
    footerPrivacy: '100% local data. Not even the judge sees it.'
  },
  es: {
    navProcess: 'Proceso',
    navDemo: 'Demostración',
    navClients: 'Clientes',
    navCta: 'Instalar',
    languageLabel: 'Seleccionar idioma',
    heroTag: '100% SECRETO PROFESIONAL',
    heroTitle: 'Tu abogado particular contra la procrastinación.',
    heroSubtitle:
      'Saul Goodman vigila tus pestañas, juzga tu foco y entrega informes dramáticos, todo en tu navegador sin enviar ni un byte afuera.',
    heroPrimaryCta: 'Instalar extensión',
    heroSecondaryCta: 'Conoce el plan de defensa',
    heroConfidence1: 'Modo terremoto personalizado',
    heroConfidence2: 'Lista negra y lista VIP de dominios',
    heroConfidence3: 'Informe con narrativa IA',
    heroBadge: '“En caso de pereza... CALL SAUL!”',
    reasonsEyebrow: 'Por qué instalar',
    reasonsTitle: 'Saul convierte la procrastinación en testimonio a favor. Mira cómo.',
    reason1Title: 'Envía al villano directo al tribunal',
    reason1Body:
      'Listas personalizadas separan dominios productivos de tentaciones. Saul pita siempre que alguien intenta sobornar tu foco.',
    reason2Title: 'Alertas estilo comercial de TV de los 90',
    reason2Body:
      'Sacudida en la pantalla y sirena garantizan que la procrastinación sienta el peso de la ley antes de reincidir.',
    reason3Title: 'Informe dramático para mostrar al jefe',
    reason3Body:
      'Gráficos, línea del tiempo y narrativa IA listos para anexar a la daily o a la charla de feedback.',
    reason4Title: 'Secreto profesional',
    reason4Body: 'Cero servidores externos. Todo se calcula en tu navegador; ni el juez lo ve.',
    processEyebrow: 'Flujo jurídico',
    processTitle: 'Cómo Saul arma tu caso a diario.',
    process1Title: 'Investigación continua',
    process1Body:
      'Un content script discreto registra clics, teclas y dominio activo para que nadie te marque como ausente antes de tiempo.',
    process2Title: 'Juicio imparcial',
    process2Body:
      'El Service Worker cruza dominios productivos y villanos, calcula el índice de procrastinación y actualiza el badge en tiempo real.',
    process3Title: 'Defensa dramática',
    process3Body:
      'Los informes diarios generan gráficos, línea del tiempo minuto a minuto y narrativa IA en tono Saul Goodman para presentar al “juez” (tú).',
    featuresEyebrow: 'Funciones detalladas',
    featuresTitle: 'El arsenal de la extensión Saul Goodman.',
    feature1Title: 'Dashboard en tiempo real',
    feature1Item1: 'Badge con índice actual y mensajes sarcásticos.',
    feature1Item2: 'Top dominios productivos y villanos con tiempo formateado.',
    feature1Item3: 'Exportaciones CSV/PDF con un clic.',
    feature2Title: 'Modo terremoto',
    feature2Item1: 'Umbral configurable y sirena opcional.',
    feature2Item2: 'Overlay crítico con contador regresivo y CTA.',
    feature2Item3: 'Bloquea solo las pestañas villanas para que recuperes en productivas.',
    feature3Title: 'Informe dramático',
    feature3Item1: 'Gráficos por hora y breakdown de cambios de pestaña.',
    feature3Item2: 'Narrativa IA en tono Better Call Saul.',
    feature3Item3: 'Banner crítico con plan de acción inmediato.',
    feature4Title: 'Privacidad total',
    feature4Item1: 'Datos en <code>chrome.storage.local</code>; nada va a la nube.',
    feature4Item2: 'Listas productivas/villanas guardadas solo en tu navegador.',
    feature4Item3: 'Clave OpenAI opcional y guardada localmente.',
    manifestoEyebrow: 'Manifiesto',
    manifestoTitle: 'Marketing agresivo con una pizca de ética.',
    manifesto1Title: '100% local',
    manifesto1Body:
      'Tu día se juzga dentro del navegador. Ningún dato sale de la computadora, ni con orden del juez.',
    manifesto2Title: 'Transparencia en el cobro',
    manifesto2Body: 'Alertas visuales y sonoras dejan claro cuando Saul está a punto de cobrar honorarios extra.',
    manifesto3Title: 'Humor como arma',
    manifesto3Body: 'Mensajes sarcásticos y banners dramáticos recuerdan que procrastinar también cuesta caro.',
    splitPopupTitle: 'Popup de guardia',
    splitPopupBody:
      'El panel muestra el índice, top dominios, indicadores extra y permite exportar CSV/PDF. Cuando el foco cae, el modo terremoto invade para salvar la barra de la justicia.',
    splitReportTitle: 'Informe dramático',
    splitReportBody:
      'Gráficos por hora, ranking de villanos, narrativa IA y banner crítico con plan de acción. Todo con visual jurada.',
    splitStats1: 'Minutos recuperados/día',
    splitStats2: 'Clientes absueltos',
    timelineEyebrow: 'Línea del tiempo',
    timelineTitle: 'Del rastreo al veredicto.',
    timeline1Title: 'Radar inicial',
    timeline1Body:
      'El content script detecta actividad en las primeras pestañas. Saul registra quién es productivo o villano.',
    timeline2Title: 'Auto de infracción',
    timeline2Body:
      'Si el índice sube demasiado, el modo terremoto invade Chrome con temblor, sirena y CTA para dar vuelta el juego.',
    timeline3Title: 'Sentencia diaria',
    timeline3Body:
      'El informe detallado envía gráficos, línea del tiempo y narrativa IA para cerrar el día con pruebas.',
    benefitsEyebrow: 'Beneficios',
    benefitsTitle: 'Saul cuida del proceso, tú cierras el caso.',
    benefit1Title: 'Pruebas incontestables',
    benefit1Body: 'Gráficos y CSV para presentar al jefe, al equipo o a tu propia conciencia.',
    benefit2Title: 'Alertas cinematográficas',
    benefit2Body: 'Modo terremoto y mensajes sarcásticos que no ignoras.',
    benefit3Title: 'Privacidad garantizada',
    benefit3Body: 'Todo el juicio ocurre localmente; ningún dato sale del navegador.',
    testimonialsEyebrow: 'Testimonios',
    testimonialsTitle: 'Clientes absueltos.',
    testimonial1Quote: '“Saul me recordó que cambiar 40 pestañas por hora es delito.”',
    testimonial1Cite: '— Cliente anónimo',
    testimonial2Quote: '“El informe se volvió pieza de defensa en la reunión con el jefe.”',
    testimonial2Cite: '— Ingeniero arrepentido',
    testimonial3Quote: '“El modo terremoto salvó mi sprint. Honorarios pagados con gusto.”',
    testimonial3Cite: '— Product Manager',
    finalCtaTitle: '¿Listo para defender tu foco?',
    finalCtaBody:
      'Instala la extensión, lista tus villanos y deja que Saul negocie con tu procrastinación antes de que llegue al tribunal.',
    finalPrimary: 'Instalar ahora',
    finalSecondary: 'Ver demostración',
    faq1Question: '¿Es gratis?',
    faq1Answer: 'Totalmente. Saul solo cobra atención y sentido del humor.',
    faq2Question: '¿Mis datos salen del navegador?',
    faq2Answer: 'Jamás. Todo queda en <code>chrome.storage.local</code>.',
    faq3Question: '¿Necesito IA?',
    faq3Answer: 'Solo si quieres las narrativas en el informe. El resto funciona offline.',
    footerTitle: 'Extensión Saul Goodman',
    footerBody: 'Instala, lista tus villanos y deja que Saul cobre los honorarios del foco.',
    footerLinkArchitecture: 'Arquitectura',
    footerLinkIndicators: 'Indicadores',
    footerLinkGithub: 'GitHub',
    footerPrivacy: 'Datos 100% locales. Ni el juez los ve.'
  }
};

const richTextKeys = new Set(['feature4Item1', 'faq2Answer']);
const supportedLanguages = ['pt', 'en', 'es'];
const defaultLanguage = 'pt';

const normalizeLanguage = (value) => {
  if (!value || typeof value !== 'string') return defaultLanguage;
  const normalized = value.toLowerCase();
  if (normalized.startsWith('pt')) return 'pt';
  if (normalized.startsWith('es')) return 'es';
  if (normalized.startsWith('en')) return 'en';
  return defaultLanguage;
};

const applyTranslations = (language) => {
  const lang = supportedLanguages.includes(language) ? language : defaultLanguage;
  const dictionary = translations[lang] || translations[defaultLanguage];
  document.documentElement.lang = lang === 'pt' ? 'pt-BR' : lang;
  document.querySelectorAll('[data-i18n]').forEach((element) => {
    const key = element.getAttribute('data-i18n');
    const text = dictionary[key];
    if (!text) return;
    if (richTextKeys.has(key)) {
      element.innerHTML = text;
    } else {
      element.textContent = text;
    }
  });
  const selector = document.getElementById('language-select');
  if (selector && selector.value !== lang) {
    selector.value = lang;
  }
  if (selector) {
    selector.setAttribute('aria-label', dictionary.languageLabel);
  }
};

const detectLanguage = () => {
  const stored = localStorage.getItem('saul-language');
  if (stored) return normalizeLanguage(stored);
  const fromNavigator = normalizeLanguage(
    (navigator.languages && navigator.languages[0]) || navigator.language || ''
  );
  return supportedLanguages.includes(fromNavigator) ? fromNavigator : defaultLanguage;
};

const bindLanguageSelector = () => {
  const selector = document.getElementById('language-select');
  if (!selector) return;
  selector.addEventListener('change', (event) => {
    const value = normalizeLanguage(event.target.value);
    localStorage.setItem('saul-language', value);
    applyTranslations(value);
  });
};

const setupCounters = () => {
  const counters = document.querySelectorAll('[data-counter]');
  const counterObserver = new IntersectionObserver(
    (entries, observer) => {
      entries.forEach((entry) => {
        if (!entry.isIntersecting) return;
        const el = entry.target;
        const target = Number(el.getAttribute('data-counter')) || 0;
        let current = 0;
        const step = Math.max(1, Math.floor(target / 40));
        const interval = setInterval(() => {
          current += step;
          if (current >= target) {
            el.textContent = target.toString();
            clearInterval(interval);
          } else {
            el.textContent = current.toString();
          }
        }, 40);
        observer.unobserve(el);
      });
    },
    { threshold: 0.4 }
  );
  counters.forEach((counter) => counterObserver.observe(counter));
};

const setupParallax = () => {
  window.addEventListener('scroll', () => {
    const hero = document.querySelector('.hero');
    if (!hero) return;
    const offset = window.scrollY;
    hero.style.backgroundPosition = `center ${offset * 0.25}px`;
  });
};

window.addEventListener('DOMContentLoaded', () => {
  applyTranslations(detectLanguage());
  bindLanguageSelector();
  setupCounters();
  setupParallax();
});
